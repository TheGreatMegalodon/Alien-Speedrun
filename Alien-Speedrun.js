const informations = {

	version: "2.1.0",
	name: "Alien SpeedRun",
	creator: "Megalodon#0001",
	auth: Auth(Math.random()*Math.floor(Math.random() * 11) + 15),

	warning: 
	  `
      ASR (Alien SpeedRun) IS A SOLO MODE!
      
      WHICH MEANS IT IS NOT MADE FOR MORE THAN 1 PLAYER TO JOIN.
      TRYING TO MAKE MORE THAN 1 PLAYER JOIN IS GONNA CAUSE THE MOD TO CRASH OR MALFUNCTION.
      
      THANKS.
    `,
  
  // game param, do not modify whats is bellow that line.
  other: {
    5: { txt: "Minutes on the clock" },
    10: { txt: "Minutes on the clock!" },
    20: { txt: "Minutes on the clock.!" },
    30: { txt: "Minutes on the clock..! Time is running high! too high.." }
  }
  
};

/* jshint ignore:start */

// IMPORTANT ⚠️ Do not try modifing any of the code bellow.
var blinkColor,endGameTimer,knownPlayers,dataInitIndex=0,time=35,stage=0,code=1,startingGame=!1,instrutor_ended=!1,nextAlien_Code=10,nextAlien_Level=0,collectibles=[10,11,20,21,41,42,90,91],asteroid_positions=getCords(100,{cords:100},!1),asteroid_sizes=setVariables({order:3,len:10,gap:2}),asteroid_velocity=getCords(6,{cords:0},!1).map((e=>e/12.5)).filter((e=>0!==e)),dataInitValues=["Initializing Data!","Initializing Data.!","Initializing Data..!","Initializing Data...!"];const map="                    \n                    \n                    \n                    \n                    \n                    \n          5         \n      55758 7       \n       8  57        \n       57  58       \n      55    55      \n      58 7 75       \n       7 8755       \n        55 5        \n                    \n                    \n                    \n                    \n                    \n                    ",vocabulary=[{text:"GG",icon:"£",key:"G"},{text:"Alien",icon:"0",key:"A"},{text:"Yes",icon:"L",key:"Y"},{text:"No",icon:"M",key:"N"},{text:"Record",icon:"2",key:"J"},{text:"For the win",icon:".",key:"W"}],aliensInfo={10:{name:"Chicken",difficulty:{0:"Easy",1:"Easy",2:"Easy",3:"Medium"}},11:{name:"Crab",difficulty:{0:"Easy",1:"Easy",2:"Easy",3:"Easy"}},12:{name:"Fortress",difficulty:{0:"Medium",1:"Hard",2:"Hard",3:"Hard"}},14:{name:"Candlestick",difficulty:{0:"Easy",1:"Easy",2:"Easy",3:"Easy"}},15:{name:"Hirsute",difficulty:{0:"Medium",1:"Hard",2:"Hard",3:"Hard"}},16:{name:"Piranha",difficulty:{0:"Easy",1:"Easy",2:"Easy",3:"Hard"}},17:{name:"Pointu",difficulty:{0:"Easy",1:"Easy",2:"Easy",3:"Easy"}},18:{name:"Fork",difficulty:{0:"Easy",1:"Easy",2:"Easy",3:"Easy"}},19:{name:"Saucer",difficulty:{0:"Medium",1:"Medium",2:"Hard",3:"Hard"}},20:{name:"Final Boss",difficulty:{0:"Hard",1:"Hard",2:"Hard",3:"Hard"}},13:{name:"Caterpillar",difficulty:{0:"Medium",1:"Hard",2:"Extreme"}}},wavesInfo={0:{codes:{1:{code:10,level:0},2:{code:11,level:0},3:{code:14,level:0},4:{code:16,level:0},5:{code:17,level:0},6:{code:18,level:0}},len:6},1:{codes:{1:{code:10,level:1},2:{code:11,level:1},3:{code:12,level:0},4:{code:14,level:1},5:{code:15,level:0},6:{code:16,level:1},7:{code:17,level:1},8:{code:18,level:1},9:{code:19,level:0}},len:9},2:{codes:{1:{code:10,level:2},2:{code:11,level:2},3:{code:12,level:1},4:{code:14,level:2},5:{code:15,level:1},6:{code:16,level:2},7:{code:19,level:1},8:{code:20,level:0}},len:8},3:{codes:{1:{code:10,level:3},2:{code:16,level:3},3:{code:17,level:2},4:{code:18,level:2},5:{code:19,level:2},6:{code:20,level:1}},len:6},4:{codes:{1:{code:13,level:0},2:{code:13,level:1},3:{code:13,level:2}},len:3},5:{codes:{1:{code:0,level:0}},len:1/0}},timing={300:{txt1:`${format_time(300)}`,txt2:informations.other[5].txt,color:"rgba(155, 255, 55, 0.8)"},600:{txt1:`${format_time(600)}`,txt2:informations.other[10].txt,color:"rgba(255, 155, 55, 0.8)"},1200:{txt1:`${format_time(1200)}`,txt2:informations.other[20].txt,color:"rgba(255, 155, 55, 0.8)"},1800:{txt1:`${format_time(1800)}`,txt2:informations.other[30].txt,color:"rgba(255, 55, 55, 0.8)"}},intraWaves={active:{velocityMultiplier:3,sizeReducer:1,spawnFrequency:.5,spawnLimit:20},passive:{velocityMultiplier:1,sizeReducer:1,spawnFrequency:4,spawnLimit:4}},shipsInformations={default:{name:"Unknown",tier:"Undefined"},101:{name:"Fly",tier:"1"},201:{name:"Delta-Fighter",tier:"2"},202:{name:"Trident",tier:"2"},301:{name:"Pulse-Fighter",tier:"3"},302:{name:"Side-Fighter",tier:"3"},303:{name:"Shadow X-1",tier:"3"},304:{name:"Y-Defender",tier:"3"},401:{name:"Vanguard",tier:"4"},402:{name:"Mercury",tier:"4"},403:{name:"X-Warior",tier:"4"},404:{name:"Side-interceptor",tier:"4"},405:{name:"Pioneer",tier:"4"},406:{name:"Crusader",tier:"4"},501:{name:"U-Sniper",tier:"5"},502:{name:"FuryStar",tier:"5"},503:{name:"T-Warrior",tier:"5"},504:{name:"Aetos",tier:"5"},505:{name:"Shadow X-2",tier:"5"},506:{name:"Howler",tier:"5"},507:{name:"Bat-Defender",tier:"5"},601:{name:"Advanced-Fighter",tier:"6"},602:{name:"Scorpion",tier:"6"},603:{name:"Marauder",tier:"6"},604:{name:"Condor",tier:"6"},605:{name:"A-Speedster",tier:"6"},606:{name:"Rock-Tower",tier:"6"},607:{name:"Barracuda",tier:"6"},608:{name:"O-Defender",tier:"6"},701:{name:"Odyssey",tier:"7"},702:{name:"Shadow X-3",tier:"7"},703:{name:"Bastion",tier:"7"},704:{name:"Aries",tier:"7"}},damagePerLevels={1:{min:0,max:50},2:{min:25,max:75},3:{min:50,max:100},4:{min:75,max:125},5:{min:100,max:150},6:{min:125,max:175},7:{min:150,max:200}},ship=[Spectator_191='{"name":"Spectator","level":1.9,"model":1,"size":0.025,"zoom":0.075,"specs":{"shield":{"capacity":[1e-30,1e-30],"reload":[1000,1000]},"generator":{"capacity":[1e-30,1e-30],"reload":[1,1]},"ship":{"mass":1,"speed":[200,200],"rotation":[1000,1000],"acceleration":[1000,1000]}},"bodies":{"face":{"section_segments":100,"angle":0,"offset":{"x":0,"y":0,"z":0},"position":{"x":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"y":[-2,-2,2,2],"z":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"width":[0,1,1,0],"height":[0,1,1,0],"vertical":true,"texture":[6]}},"typespec":{"name":"Spectator","level":1,"model":1,"code":101,"specs":{"shield":{"capacity":[1e-30,1e-30],"reload":[1000,1000]},"generator":{"capacity":[1e-30,1e-30],"reload":[1,1]},"ship":{"mass":1,"speed":[200,200],"rotation":[1000,1000],"acceleration":[1000,1000]}},"shape":[0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001],"lasers":[],"radius":0.001}}'],music=["civilisation.mp3","procedurality.mp3","argon.mp3","crystals.mp3","red_mist.mp3","warp_drive.mp3"],musicApplyed=music[~~(Math.random()*music.length)];expulsed(),game.custom.launched||MapOpen();const Objects={MapCenter:{id:"MapCenter",obj:"https://starblast.data.neuronality.com/mods/objects/plane.obj",emissive:"https://raw.githubusercontent.com/TheGreatMegalodon/Dueling-Component/main/Dueling_Component/Aliens_SpeedRun_blur.png"},lost_sector_aries:{id:"lost_sector_aries",obj:"https://starblast.io/lost_sector/LostSector_Aries_HardEdges.obj",diffuse:"https://starblast.io/lost_sector/LostSector_Aries_LostSector_Aries_Diffuse.jpg",bump:"https://starblast.io/lost_sector/LostSector_Aries_LostSector_Aries_Height.jpg",specular:"https://starblast.io/lost_sector/LostSector_Aries_LostSector_Aries_Specular.jpg",shininess:10,emissiveColor:0,specularColor:16777215,transparent:!1}};addObject=function(e,t,i){i={x:0,y:0,z:0,sx:0,sy:0,sz:0,rx:Math.PI,rz:Math.PI,...i},game.setObject({id:e,type:t,position:{x:i.x,y:i.y,z:i.z},scale:{x:i.sx,y:i.sy,z:i.sz},rotation:{x:i.rx,y:0,z:i.rz}})},addObject("lost_sector_aries",Objects.lost_sector_aries,{x:100,y:100,z:-60,sx:2,sy:2,sz:2,rx:0});const hideScoreColor=["rgb(100,55,55)","rgb(55,100,55)","rgb(55,55,100)","rgb(100,55,100)"][~~(4*Math.random())],hideScore={id:"hideScore",position:[.5,1.5,16.5,7],clickable:!1,visible:!0,components:[{type:"box",position:[0,0,100,100],fill:hideScoreColor,stroke:hideScoreColor,width:8},{type:"text",position:[2,0,100,25],value:`Version  -  ${informations.version}`,color:"rgb(200,200,200)",align:"left"},{type:"text",position:[2,25,100,25],value:`Creator  -  ${informations.creator}`,color:"rgb(200,200,200)",align:"left"},{type:"text",position:[2,50,100,25],value:`Mode  -  ${informations.name}`,color:"rgb(200,200,200)",align:"left"},{type:"text",position:[2,75,100,25],value:`Auth  -  # ${informations.auth}`,color:"rgb(200,200,200)",align:"left"}]},radar_background={id:"radar_background",position:[100,100,0,0],visible:!0,components:[{type:"round",position:[-7.5,-7.5,15,15]},{type:"round",position:[92.5,92.5,15,15]},{type:"round",position:[92.5,-7.5,15,15]},{type:"round",position:[-7.5,92.5,15,15]}].map((e=>({...e,fill:"rgba(55,255,55, 0.4)",stroke:"rgba(55,255,55, 0.6)",width:2})))};function Auth(e){const t="abcdefghijklmnopqrstuvwxyz0123456789";let i="";for(;i.length<e;){const e=Math.floor(36*Math.random()),o=t.charAt(e);i.includes(o)||(i+=o)}return i}function distance(e,t){return Math.sqrt(e*e+t*t)}function shortestPath(e,t,i,o){const n=5*game.options.map_size,a=[[i-e,o-t],[i+2*n-e,o-t],[i-2*n-e,o-t],[i-e,o+2*n-t],[i-e,o-2*n-t],[i+2*n-e,o+2*n-t],[i+2*n-e,o-2*n-t],[i-2*n-e,o+2*n-t],[i-2*n-e,o-2*n-t]];let s=1/0,r=[0,0];for(let e=0;e<a.length;e++){const t=distance(a[e][0],a[e][1]);t<s&&(s=t,r=a[e])}return r}function AddMap(e,t,i,o){const n=t.x,a=t.y,s=shortestPath(e.x,e.y,n,a),r=distance(s[0],s[1]);e.setUIComponent({id:"ShowBestPlayer",position:[45+s[0]/r*25,45-s[1]/r*25,10,10],clickable:!1,visible:!0,components:[{type:"box",position:[44,47,12,12],fill:`rgb(${i})`,stroke:"#CDE",width:2},{type:"text",position:[25,67,50,24],value:"♾️",color:"#CDE"},{type:"text",position:[10,10,80,30],value:o,color:"#CDE"}]})}function paChangeMode(e,t){return 16==e&&3==t||20==e&&t>=1?"active":"passive"}function getNextAlien(){return code===wavesInfo[stage].len?(stage++,code=1):code++,{code:wavesInfo[stage].codes[code].code,level:wavesInfo[stage].codes[code].level}}function isBoss(e,t){return 20==e||19==e||15==e||12==e||16==e&&3==t||10==e&&3==t}function alert(e,t="",i="",o="rgba(255, 255, 255, 0.8)",n=4e3,a={txt1:18,txt2:24}){clearTimeout(e.custom.logtimeout),e.custom.logtimeout=setTimeout((()=>{e.setUIComponent({id:"Text",visible:!1})}),n),e.setUIComponent({id:"Text",position:[-5,-5,110,110],clickable:!1,visible:!0,components:[{type:"text",position:[0,a.txt1,100,5],color:o,value:t},{type:"text",position:[0,a.txt2,100,4],color:o,value:i}]})}function ship_instructor(e,t,i="Lucina",o=0,n=0,a=!0){if(!e||!t||!t.length)return;let s;s=n?function(){e.showInstructor(),e.instructorSays(t,i),setTimeout((()=>{e.hideInstructor(),a&&(instrutor_ended?instrutor_ended=!1:(instrutor_ended=!0,e.setUIComponent(radar_background),addObject("MapCenter",Objects.MapCenter,{x:100,y:100,z:-15,sx:60,sy:60,rz:0})))}),650*n)}:function(){e.showInstructor(),e.instructorSays(t,i)},setTimeout(s,650*o)}function endScoreboard(e){const t=e.ships[0],i=shipColor(t);let o={id:"scoreboard",clickable:!1,visible:!0,components:[{type:"text",position:[14,4,100,8],value:"Game is ending",color:"rgba(255,255,255,0.8)",align:"left"},{type:"text",position:[32,4,100,8],value:format_time(time),color:"rgba(255,255,255,0.8)",align:"center"},{type:"box",position:[10,15,80,1.4],fill:"rgba(155, 155, 155, 0.4)"},{type:"box",position:[0,21,1.5,12],fill:`rgba(${i}, 0.4)`},{type:"box",position:[3,21,96,12],fill:"rgba(155, 155, 155, 0.1)"},{type:"player",id:t.id,position:[4,22.5,100,9],value:"",color:"rgba(255,255,255,0.8)"},{type:"text",position:[0,57,100,8],value:"Communications",color:"rgba(255,255,255,0.8)",align:"center"},{type:"text",position:[0,67,100,8],value:"Over",color:"rgba(255,255,255,0.8)",align:"center"}]};e.ships.forEach((e=>{e.setUIComponent(o)}))}function prepareScoreboard(e){const t=e.ships[0],i=shipColor(t);let o={id:"scoreboard",clickable:!1,visible:!0,components:[{type:"text",position:[14,4,100,8],value:format_time(time),color:"rgba(255,255,255,0.8)",align:"left"},{type:"text",position:[52,4,100,8],value:`Stage  ${stage}/4`,color:"rgba(55, 255, 55,0.8)",align:"left"},{type:"box",position:[10,15,80,1.4],fill:"rgba(155, 155, 155, 0.4)"},{type:"box",position:[0,21,1.5,12],fill:`rgba(${i}, 0.4)`},{type:"box",position:[3,21,96,12],fill:"rgba(155, 155, 155, 0.1)"},{type:"player",id:t.id,position:[4,22.5,100,9],value:"",color:"rgba(255,255,255,0.8)"},{type:"text",position:[0,60,100,8],value:dataInitValues[dataInitIndex++%dataInitValues.length],color:"rgba(255,255,255,0.8)",align:"center"}]};e.ships.forEach((e=>{e.setUIComponent(o)}))}function updateScoreboard(e){const t=e.ships[0],i=aliensInfo[nextAlien_Code],o=0===stage?"55, 255, 55":1===stage?"255, 220, 55":2===stage?"255, 55, 55":3===stage?"155, 55, 255":stage>=4?"55, 200, 255":"255, 255, 255",n="Easy"==i.difficulty[nextAlien_Level]?"55,255,55":"Medium"==i.difficulty[nextAlien_Level]?"255,155,55":"Medium"==i.difficulty[nextAlien_Level]?"151,0,0":"255,55,55",a="Caterpillar"==i.name||"Final Boss"==i.name?"155,55,255":"255,255,255",s=shipColor(t);let r={id:"scoreboard",clickable:!1,visible:!0,components:[{type:"text",position:[14,4,100,8],value:format_time(time++),color:"rgba(255,255,255,0.8)",align:"left"},{type:"text",position:[52,4,100,8],value:`Stage  ${stage}/4`,color:`rgba(${o}, 0.8)`,align:"left"},{type:"box",position:[10,15,80,1.4],fill:"rgba(155, 155, 155, 0.4)"},{type:"box",position:[0,21,1.5,12],fill:`rgba(${s}, 0.4)`},{type:"box",position:[3,21,96,12],fill:"rgba(155, 155, 155, 0.1)"},{type:"player",id:t.id,position:[4,22.5,100,9],value:"",color:"rgba(255,255,255,0.8)"},{type:"text",position:[0,37.5,100,8],value:"Game Information",color:"rgba(255,255,255,0.8)",align:"center"},{type:"box",position:[22.5,45,55,.8],fill:"rgba(155, 155, 155, 0.4)"},{type:"box",position:[0,53,1.5,10],fill:"rgba(255, 255, 255, 0.4)"},{type:"box",position:[3,53,75,10],fill:"rgba(155, 155, 155, 0.1)"},{type:"box",position:[79.5,53,19.5,10],fill:"rgba(155, 155, 155, 0.2)"},{type:"text",position:[20,54,100,8],value:"Aliens Killed",color:"rgba(255,255,255,0.8)",align:"left"},{type:"text",position:[39.5,54,100,8],value:t.custom.kills,color:"rgba(255,255,255,0.8)",align:"center"},{type:"box",position:[0,65,1.5,10],fill:`rgba(${a}, 0.4)`},{type:"box",position:[3,65,55,10],fill:"rgba(155, 155, 155, 0.1)"},{type:"box",position:[59.5,65,39.5,10],fill:"rgba(155, 155, 155, 0.2)"},{type:"text",position:[9.5,66,100,8],value:"Current Alien",color:"rgba(255,255,255,0.8)",align:"left"},{type:"text",position:[29,66,100,8],value:i.name,color:`rgba(${a}, 0.8)`,align:"center"},{type:"box",position:[0,77,1.5,10],fill:`rgba(${n}, 0.4)`},{type:"box",position:[3,77,60,10],fill:"rgba(155, 155, 155, 0.1)"},{type:"box",position:[64.5,77,34.5,10],fill:"rgba(155, 155, 155, 0.2)"},{type:"text",position:[9.5,78,100,8],value:"Alien Difficulty",color:"rgba(255,255,255,0.8)",align:"left"},{type:"text",position:[31.5,78,100,8],value:i.difficulty[nextAlien_Level],color:`rgba(${n}, 0.8)`,align:"center"},{type:"box",position:[0,89,1.5,10],fill:"rgba(255, 255, 255, 0.4)"},{type:"box",position:[3,89,75,10],fill:"rgba(155, 155, 155, 0.1)"},{type:"box",position:[79.5,89,19.5,10],fill:"rgba(155, 155, 155, 0.2)"},{type:"text",position:[12.5,90,100,8],value:"Moving Asteroids",color:"rgba(255,255,255,0.8)",align:"left"},{type:"text",position:[39.5,90,100,8],value:e.asteroids.length,color:"rgba(255,255,255,0.8)",align:"center"}]};e.ships.forEach((e=>{timing.hasOwnProperty(time+1)&&alert(e,timing[time].txt1,timing[time].txt2,timing[time].color,4e3,{txt1:75,txt2:81}),e.setUIComponent(r)}))}function shipColor(e){const t=damagePerLevels[Math.floor(e.type/100)];return e.shield<=5?"55, 55, 55":e.shield<=t.min?"255, 55, 55":e.shield<=t.max?"255, 155, 55":e.shield>=t.max?"55, 255, 55":"255, 255, 255"}function prepareShip(e,t,i=0){t.setUIComponent(hideScore),t.custom.Hasjoined=!0,knownPlayers=e,e.custom.kills=0,e.set({x:0,y:0,invincible:1e3}),ship_instructor(e,"Welcome to..\n","Zoltar"),ship_instructor(e,"Alien Speedrun!\n","Zoltar",i+=3),ship_instructor(e,"To win the game, you must kill all the aliens as quickly as possible without dying once..","Zoltar",i+=3),ship_instructor(e,"There are 5 stages, from 0 to 4, each one is more difficult than the other","Zoltar",i+=9),ship_instructor(e,"Complete them as quickly as possible and maybe become the new record holder!","Zoltar",i+=8),ship_instructor(e,"\nGood luck Commander!","Zoltar",i+=8,4),startingGame=!0}function expulsed(){game.ships.forEach((e=>{alert(e,"A problem has occurred","Please restart the mod in order to continue playing","rgba(255, 55, 55, 0.8)",8e3),e.set({x:0,y:0,vx:0,vy:0,collider:!1,type:191,idle:!0}),setTimeout((()=>{e.gameover({"-":e.name.toString(),"A problem has occurred on":"Alien SpeedRun",Please:"Restart the mod"})}),5e3)})),game.custom.oldAuth===informations.aut?game.modding.terminal.echo(""):game.modding.terminal.echo("[[bg;tomato;]\n  - Restart The Mod - \n]")}function desactivate(e){alert(e,"You failed!","Be better next time!","rgba(255, 55, 55, 0.8)");const t=shipsInformations.hasOwnProperty(e.type)?shipsInformations[e.type]:shipsInformations.default;e.set({x:0,y:0,vx:0,vy:0,collider:!1,type:191,idle:!0}),setTimeout((()=>{const i=aliensInfo[nextAlien_Code];e.gameover({"You LOST!":e.name.toString(),Killer:i.name.toString(),Difficulty:i.difficulty[nextAlien_Level].toString(),Stage:`${stage.toString()}/4`,"Time Survived":format_time(time-1).toString(),"Ship Used":`${t.name}, Tier ${t.tier}`,"Aliens Killed":e.custom.kills.toString()}),game.modding.terminal.echo("[[bg;tomato;]\n  - Restart The Mod - \n]")}),4e3)}function gameFinished(e,t=0,i=0){e.custom.oldType=e.type,startingGame=!1,endGameTimer=time,e.set({x:0,y:0,vx:0,vy:0,collider:!1,type:191,idle:!0}),alert(e,"Finished!","Well done Commander!","rgba(55,255,55,0.8)"),setTimeout((()=>{time=30,startingGame=2}),i+=2e3),setTimeout((()=>{ship_instructor(e,"\n\n\n\n\n\n","Zoltar",1),ship_instructor(e,"Well done! Commander","Zoltar",t+=2),ship_instructor(e,"You successfuly killed all of the aliens.","Zoltar",t+=5),ship_instructor(e,`It took you ${format_time(endGameTimer-1)} minutes to finish the game!`,"Zoltar",t+=6),ship_instructor(e,"you did a great performance.","Zoltar",t+=7),ship_instructor(e,"i wish you the best, and see you next time.","Zoltar",t+=5),ship_instructor(e,"\n\n\n\n\n\ncommunications\nover.","Zoltar",t+=6,4)}),i+=2e3)}function format_time(e){return e>0?(minutes=Math.floor(e/60),seconds=e%60,e%60==0?`${(e/60).toString()}:00`:(seconds<10&&(seconds=`0${seconds.toString()}`),minutes<1?seconds.toString():`${minutes.toString()}:${seconds.toString()}`)):"0:00"}function setVariables(e,t=[],i=0){if(!(e.len>10)){for(e.gap=e.gap||1;i<e.len;){const o=Math.round(Math.random()*(10*e.gap))+10*e.order;t.includes(o)||(t.push(o),i++)}return t}}function getCords(e,t,i=!0){var o=Array(e+1).fill(0).map(((i,o)=>t.cords-Math.round(e/2)+o));return i?o[~~(Math.random()*o.length)]:o}function MapOpen(){game.modding.terminal.echo(`\n  [[bg;#ffdf00;]                     - ${informations.name} - ]\n  [[ig;#00fff2;]\n              Version -  ${informations.version}\n              Authentication -  # ${informations.auth}\n              All credits goes to ${informations.creator}]\n\n  [[ig;#ff2200;]${informations.warning}]\n  `),game.custom.launched=!0,game.custom.oldAuth=informations.auth}this.options={root_mode:"",map_name:"Alien Speedrun",map_size:20,max_players:1,crystal_value:2.5,starting_ship:801,starting_ship_maxed:!0,weapons_store:!1,choose_ship:[301,302,303,304],custom_map:map,vocabulary:vocabulary,soundtrack:musicApplyed,ships:ship},this.tick=function(e){if(e.step%60==0)switch(startingGame){case!0:if(time>=0)time--,prepareScoreboard(e),instrutor_ended&&e.ships.forEach((e=>{alert(e,format_time(time+1),"Starting...!","rgba(255,255,255, 0.8)",1500)}));else{time=0,startingGame=1,e.addAlien({code:nextAlien_Code,level:nextAlien_Level,x:5*e.options.map_size,y:5*e.options.map_size,crystal_drop:setVariables({order:stage+4,len:10,gap:2})[~~(Math.random()*setVariables({order:stage+4,len:10,gap:2}).length)],weapon_drop:collectibles[~~(Math.random()*collectibles.length)]});const t=aliensInfo[nextAlien_Code];e.ships.forEach((e=>{alert(e,"First Alien!",`Alien:  ${t.name}, difficulty:  ${t.difficulty[nextAlien_Level]}`)}))}break;case 1:updateScoreboard(e);const t=intraWaves[paChangeMode(nextAlien_Code,nextAlien_Level)];e.step%(60*t.spawnFrequency)==0&&e.asteroids.length<=t.spawnLimit&&e.addAsteroid({size:asteroid_sizes[~~(Math.random()*asteroid_sizes.length)]/t.sizeReducer,x:asteroid_positions[~~(Math.random()*asteroid_positions.length)],y:asteroid_positions[~~(Math.random()*asteroid_positions.length)],vx:asteroid_velocity[~~(Math.random()*asteroid_velocity.length)]*t.velocityMultiplier,vy:asteroid_velocity[~~(Math.random()*asteroid_velocity.length)]*t.velocityMultiplier});break;case 2:time>=0?(time--,endScoreboard(e),instrutor_ended||e.ships.forEach((e=>{alert(e,format_time(time+1),"Ending...!","rgba(255,255,255, 0.8)",1500)}))):e.ships.forEach((e=>{const t=shipsInformations.hasOwnProperty(e.custom.oldType)?shipsInformations[e.custom.oldType]:shipsInformations.default;e.gameover({"You WON!":e.name.toString(),"-":"-","Total Time":format_time(endGameTimer-1),"Ship Used":`${t.name}, Tier ${t.tier}`,"Aliens Killed":e.custom.kills.toString()})}))}if(e.step%5==0){if(!0===e.custom.lastlyDied)return void game.ships[0].setUIComponent({id:"ShowBestPlayer",visible:!1});game.aliens[0]?(color="Easy"==aliensInfo[nextAlien_Code].difficulty[nextAlien_Level]?"55,255,55":"Medium"==aliensInfo[nextAlien_Code].difficulty[nextAlien_Level]?"255,155,55":"Medium"==aliensInfo[nextAlien_Code].difficulty[nextAlien_Level]?"155,0,0":"255,55,55",AddMap(game.ships[0],game.aliens[0],color,aliensInfo[nextAlien_Code].name)):game.ships[0].setUIComponent({id:"ShowBestPlayer",visible:!1})}},this.event=function(e,t){switch(e.name){case"alien_destroyed":e.killer.custom.kills++;const i=getNextAlien();if(5===stage)gameFinished(e.killer);else{nextAlien_Code=i.code,nextAlien_Level=i.level;const o=aliensInfo[nextAlien_Code];13==i.code?alert(e.killer,"Warning!",`Next alien:  ${o.name}, difficulty:  ${o.difficulty[nextAlien_Level]}`,"rgba(155,55,255,0.8)"):alert(e.killer,"Well Done!",`Next alien:  ${o.name}, difficulty:  ${o.difficulty[nextAlien_Level]}`);const n=isBoss(nextAlien_Code,nextAlien_Level)?12:collectibles[~~(Math.random()*collectibles.length)],a=isBoss(nextAlien_Code,nextAlien_Level)?setVariables({order:Math.pow(stage+1,3)+10,len:10,gap:2})[~~(Math.random()*setVariables({order:Math.pow(stage+1,3)+10,len:10,gap:2}).length)]:setVariables({order:stage+4,len:10,gap:2})[~~(Math.random()*setVariables({order:stage+4,len:10,gap:2}).length)];setTimeout((()=>{t.addAlien({code:nextAlien_Code,level:nextAlien_Level,x:5*t.options.map_size,y:5*t.options.map_size,crystal_drop:a,weapon_drop:n}),13==nextAlien_Code&&setTimeout((()=>{const e=t.aliens[0];switch(code){case 1:e.set({damage:100,rate:2});break;case 2:e.set({damage:200,rate:1});break;case 3:e.set({damage:600,rate:.1,laser_speed:160})}}),200)}),4e3)}break;case"ship_spawned":t.custom.Hasjoined?e.ship===knownPlayers?desactivate(e.ship):expulsed():prepareShip(e.ship,t);break;case"asteroid_destroyed":if(e.killer){const i=e.asteroid.size>30?setVariables({order:3,len:1,gap:2}):setVariables({order:1,len:1,gap:2});if(e.killer.set({score:e.killer.score+i[0]}),e.asteroid.size>40){const i=collectibles[~~(Math.random()*collectibles.length)];t.addCollectible({code:i,x:e.asteroid.x,y:e.asteroid.y})}}break;case"ship_destroyed":t.custom.lastlyDied=!0,startingGame=!1}};

/* jshint ignore:end */
